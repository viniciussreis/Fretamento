DROP TABLE MOTORISTA;

CREATE TABLE MOTORISTA
(
    ID_MOTORISTA INTEGER NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
    NOME VARCHAR(50) NOT NULL,
    CNH VARCHAR(50) NOT NULL,
    REGISTRO_GERAL VARCHAR(20) NOT NULL,
    ENDERECO VARCHAR(100) NOT NULL
    
);

DROP TABLE ONIBUS;

CREATE TABLE ONIBUS
(
    ID_ONIBUS INTEGER NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
    ID_MOTORISTA INTEGER NOT NULL,
    PLACA VARCHAR(6) NOT NULL,
    NUMERACAO INTEGER NOT NULL,

    CONSTRAINT FK_MOTORISTA FOREIGN KEY (ID_MOTORISTA) REFERENCES MOTORISTA (ID_MOTORISTA)
);

DROP TABLE LINHA;

CREATE TABLE LINHA
(
    ID_LINHA INTEGER NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
    ID_ONIBUS INTEGER NOT NULL,
    NUMERO INTEGER NOT NULL,
    ORIGEM VARCHAR(50),
    DESTINO VARCHAR(50),

    CONSTRAINT FK_ONIBUS FOREIGN KEY (ID_ONIBUS) REFERENCES ONIBUS (ID_ONIBUS)
);

DROP TABLE PASSAGEIRO;

CREATE TABLE PASSAGEIRO
(
    ID_PASSAGEIRO INTEGER NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
    ID_LINHA INTEGER NOT NULL,
    NOME VARCHAR(50) NOT NULL,
    CPF VARCHAR(30) NOT NULL,
    REGISTRO_GERAL VARCHAR(20) NOT NULL,
    ENDERECO VARCHAR(100) NOT NULL,

    CONSTRAINT FK_LINHA FOREIGN KEY (ID_LINHA) REFERENCES LINHA (ID_LINHA)

);

INSERT INTO MOTORISTA(ID_MOTORISTA, NOME, CNH, REGISTRO_GERAL, ENDERECO)
VALUES(DEFAULT, 'JOSE', '123456789', '123456789', 'RUA DE PRAIA GRANDE');

INSERT INTO ONIBUS(ID_ONIBUS, ID_MOTORISTA, PLACA, NUMERACAO)
VALUES(DEFAULT, 1, 'ASD123', 1200);

INSERT INTO LINHA(ID_LINHA, ID_ONIBUS, NUMERO, ORIGEM, DESTINO)
VALUES(DEFAULT, 1, 1200, 'PRAIA GRANDE - SP', 'CONCEICAO - SP');

INSERT INTO PASSAGEIRO(ID_PASSAGEIRO, ID_LINHA, NOME, CPF, REGISTRO_GERAL, ENDERECO)
VALUES(DEFAULT, 1, 'JOAO', '123456789', '123456789', 'RUA DE PRAIA GRANDE');




